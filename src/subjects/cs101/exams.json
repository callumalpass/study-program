[
  {
    "id": "cs101-exam-midterm",
    "subjectId": "cs101",
    "title": "CS101 Midterm",
    "durationMinutes": 75,
    "instructions": [
      "Closed-book style: rely on concepts, not copy/paste.",
      "Answer all questions; passing is 70% or higher.",
      "Fill-in questions expect lowercase, trimmed answers.",
      "Coding prompts include runnable tests—ensure they pass."
    ],
    "questions": [
      {
        "id": "mid-q1",
        "type": "multiple_choice",
        "prompt": "Which of the following is a valid variable name in Python?",
        "options": [
          "2nd_place",
          "my-variable",
          "first_name",
          "class"
        ],
        "correctAnswer": 2,
        "explanation": "Variable names cannot start with a number, contain hyphens, or be reserved keywords. \"first_name\" uses valid characters (letters, underscores)."
      },
      {
        "id": "mid-q2",
        "type": "multiple_choice",
        "prompt": "What is the result of `type(3.14)`?",
        "options": [
          "<class 'int'>",
          "<class 'float'>",
          "<class 'str'>",
          "<class 'decimal'>"
        ],
        "correctAnswer": 1,
        "explanation": "3.14 is a floating-point number, so its type is float."
      },
      {
        "id": "mid-q3",
        "type": "code_output",
        "prompt": "What is printed by this code?",
        "codeSnippet": "x = 10\ny = 3\nprint(x // y)\nprint(x % y)",
        "correctAnswer": "3\n1",
        "explanation": "// is integer division (10÷3=3), % is modulo/remainder (10%3=1)."
      },
      {
        "id": "mid-q4",
        "type": "true_false",
        "prompt": "In Python, strings are immutable, meaning they cannot be changed after creation.",
        "correctAnswer": true,
        "explanation": "Strings are immutable. Operations like concatenation create new strings rather than modifying existing ones."
      },
      {
        "id": "mid-q5",
        "type": "fill_blank",
        "prompt": "To convert the string \"42\" to an integer, you use the ____ function.",
        "correctAnswer": "int",
        "explanation": "The int() function converts strings (and floats) to integers."
      },
      {
        "id": "mid-q6",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "name = \"Python\"\nprint(name[0] + name[-1])",
        "correctAnswer": "Pn",
        "explanation": "name[0] is \"P\" (first character), name[-1] is \"n\" (last character). Concatenated: \"Pn\"."
      },
      {
        "id": "mid-q7",
        "type": "code_output",
        "prompt": "What is printed by this code?",
        "codeSnippet": "scores = [72, 85, 91]\navg = sum(scores) / len(scores)\nif avg >= 90:\n    print(\"A\")\nelif avg >= 80:\n    print(\"B\")\nelse:\n    print(\"C\")",
        "correctAnswer": "B",
        "explanation": "Average is (72+85+91)/3 = 82.67, so the elif branch (avg >= 80) prints \"B\"."
      },
      {
        "id": "mid-q8",
        "type": "fill_blank",
        "prompt": "To exit a loop early when a condition is met, use the ____ keyword.",
        "correctAnswer": "break",
        "explanation": "The break statement exits the innermost loop immediately."
      },
      {
        "id": "mid-q9",
        "type": "multiple_choice",
        "prompt": "What does `list(range(1, 5))` produce?",
        "options": [
          "[1, 2, 3, 4, 5]",
          "[0, 1, 2, 3, 4]",
          "[1, 2, 3, 4]",
          "[0, 1, 2, 3]"
        ],
        "correctAnswer": 2,
        "explanation": "range(1, 5) generates numbers from 1 up to (but not including) 5."
      },
      {
        "id": "mid-q10",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "total = 0\nfor i in range(1, 4):\n    total += i\nprint(total)",
        "correctAnswer": "6",
        "explanation": "The loop adds 1 + 2 + 3 = 6."
      },
      {
        "id": "mid-q11",
        "type": "multiple_choice",
        "prompt": "What is the result of `True and False or True`?",
        "options": [
          "True",
          "False",
          "None",
          "Error"
        ],
        "correctAnswer": 0,
        "explanation": "`and` has higher precedence than `or`. So: (True and False) or True = False or True = True."
      },
      {
        "id": "mid-q12",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "for i in range(5):\n    if i == 3:\n        break\n    print(i, end=\" \")",
        "correctAnswer": "0 1 2 ",
        "explanation": "The loop prints 0, 1, 2, then breaks when i equals 3."
      },
      {
        "id": "mid-q13",
        "type": "multiple_choice",
        "prompt": "What is the primary reason to wrap logic in functions?",
        "options": [
          "To make code longer",
          "To reuse logic, reduce repetition, and improve readability",
          "To slow down execution",
          "To avoid using variables"
        ],
        "correctAnswer": 1,
        "explanation": "Functions encapsulate behavior for reuse, clarity, testing, and separation of concerns."
      },
      {
        "id": "mid-q14",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def greet(name=\"World\"):\n    return f\"Hello, {name}!\"\n\nprint(greet())\nprint(greet(\"Alice\"))",
        "correctAnswer": "Hello, World!\nHello, Alice!",
        "explanation": "The first call uses the default parameter; the second overrides it with \"Alice\"."
      },
      {
        "id": "mid-q15",
        "type": "multiple_choice",
        "prompt": "What happens if a function does not have a return statement?",
        "options": [
          "It raises an error",
          "It returns 0",
          "It returns None",
          "It returns an empty string"
        ],
        "correctAnswer": 2,
        "explanation": "Functions without an explicit return statement return None by default."
      },
      {
        "id": "mid-q16",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def add(a, b, c=0):\n    return a + b + c\n\nprint(add(5, 3))\nprint(add(5, 3, 2))",
        "correctAnswer": "8\n10",
        "explanation": "First call: 5+3+0=8. Second call: 5+3+2=10."
      },
      {
        "id": "mid-q17",
        "type": "coding",
        "prompt": "Write a function `first_even(nums)` that returns the first even number in a list, or -1 if none are found.",
        "starterCode": "def first_even(nums):\n    # TODO: implement\n    return -1",
        "language": "python",
        "solution": "def first_even(nums):\n    for n in nums:\n        if n % 2 == 0:\n            return n\n    return -1",
        "testCases": [
          {
            "input": "first_even([1, 3, 5])",
            "expectedOutput": "-1",
            "isHidden": false,
            "description": "No even values"
          },
          {
            "input": "first_even([1, 4, 6])",
            "expectedOutput": "4",
            "isHidden": false,
            "description": "Returns first even"
          },
          {
            "input": "first_even([2])",
            "expectedOutput": "2",
            "isHidden": false,
            "description": "Single element"
          },
          {
            "input": "first_even([])",
            "expectedOutput": "-1",
            "isHidden": true,
            "description": "Empty list"
          }
        ],
        "correctAnswer": true,
        "explanation": "Iterate through the list and return the first number divisible by 2; default to -1."
      },
      {
        "id": "mid-q18",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def outer():\n    x = 10\n    def inner():\n        return x * 2\n    return inner()\n\nprint(outer())",
        "correctAnswer": "20",
        "explanation": "inner() can access x from the enclosing scope. Returns 10 * 2 = 20."
      },
      {
        "id": "mid-q19",
        "type": "true_false",
        "prompt": "A list in Python preserves insertion order.",
        "correctAnswer": true,
        "explanation": "Lists are ordered collections; iteration returns items in the order they were added."
      },
      {
        "id": "mid-q20",
        "type": "multiple_choice",
        "prompt": "What data structure best models a mapping of product IDs to prices?",
        "options": [
          "List",
          "Tuple",
          "Dictionary",
          "Set"
        ],
        "correctAnswer": 2,
        "explanation": "Dictionaries map keys (product IDs) to values (prices) efficiently."
      },
      {
        "id": "mid-q21",
        "type": "multiple_choice",
        "prompt": "Given `grades = {\"alice\": 90, \"bob\": 80}`, what does `grades.get(\"carol\", 0)` return?",
        "options": [
          "KeyError",
          "None",
          "0",
          "\"carol\""
        ],
        "correctAnswer": 2,
        "explanation": "dict.get() returns the default value (0) when the key is not found, avoiding a KeyError."
      },
      {
        "id": "mid-q22",
        "type": "true_false",
        "prompt": "Tuples are mutable, meaning you can change their elements after creation.",
        "correctAnswer": false,
        "explanation": "Tuples are immutable. Once created, their elements cannot be changed."
      },
      {
        "id": "mid-q23",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "point = (3, 4)\nx, y = point\nprint(x + y)",
        "correctAnswer": "7",
        "explanation": "Tuple unpacking assigns 3 to x and 4 to y. Their sum is 7."
      },
      {
        "id": "mid-q24",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "nums = [1, 2, 3, 4, 5]\nprint(nums[1:4])",
        "correctAnswer": "[2, 3, 4]",
        "explanation": "Slicing [1:4] gets elements at indices 1, 2, 3."
      },
      {
        "id": "mid-q25",
        "type": "multiple_choice",
        "prompt": "Which file mode opens a file for writing, creating it if it does not exist and truncating it if it does?",
        "options": [
          "\"r\"",
          "\"w\"",
          "\"a\"",
          "\"r+\""
        ],
        "correctAnswer": 1,
        "explanation": "\"w\" mode opens for writing, creates the file if needed, and truncates existing content."
      },
      {
        "id": "mid-q26",
        "type": "true_false",
        "prompt": "Using the \"with\" statement when opening files automatically closes the file when done.",
        "correctAnswer": true,
        "explanation": "The \"with\" statement is a context manager that handles file closing, even if an error occurs."
      }
    ]
  },
  {
    "id": "cs101-exam-final",
    "subjectId": "cs101",
    "title": "CS101 Final Exam",
    "durationMinutes": 120,
    "instructions": [
      "Comprehensive exam covering all course topics.",
      "Mix of multiple choice, code reading, short answers, and coding.",
      "Assume Python 3 semantics.",
      "Aim for at least 70% to pass."
    ],
    "questions": [
      {
        "id": "final-q1",
        "type": "multiple_choice",
        "prompt": "What is the value of `5 + 3 * 2`?",
        "options": [
          "16",
          "11",
          "13",
          "10"
        ],
        "correctAnswer": 1,
        "explanation": "Multiplication has higher precedence than addition: 5 + (3 * 2) = 5 + 6 = 11."
      },
      {
        "id": "final-q2",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "a = \"hello\"\nb = a.upper()\nprint(a)\nprint(b)",
        "correctAnswer": "hello\nHELLO",
        "explanation": "Strings are immutable. upper() returns a new string; the original \"a\" is unchanged."
      },
      {
        "id": "final-q3",
        "type": "multiple_choice",
        "prompt": "Which expression evaluates to `True`?",
        "options": [
          "\"apple\" > \"banana\"",
          "10 == \"10\"",
          "len(\"hello\") == 5",
          "type(3) == type(3.0)"
        ],
        "correctAnswer": 2,
        "explanation": "\"hello\" has 5 characters, so len(\"hello\") == 5 is True."
      },
      {
        "id": "final-q4",
        "type": "fill_blank",
        "prompt": "The method to remove whitespace from both ends of a string is called ____.",
        "correctAnswer": "strip",
        "explanation": "str.strip() removes leading and trailing whitespace."
      },
      {
        "id": "final-q5",
        "type": "written",
        "prompt": "Briefly explain the difference between the `==` and `is` operators in Python.",
        "correctAnswer": "value",
        "explanation": "`==` compares values (equality), while `is` compares identity (whether two variables refer to the same object in memory).",
        "modelAnswer": "The `==` operator compares values (equality) - it checks whether two objects have the same content or value. The `is` operator compares identity - it checks whether two variables refer to the exact same object in memory. For example, two different lists with the same contents would be equal with `==` but not identical with `is`, because they are separate objects stored at different memory locations."
      },
      {
        "id": "final-q6",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "count = 0\nfor i in range(5):\n    if i % 2 == 0:\n        count += 1\nprint(count)",
        "correctAnswer": "3",
        "explanation": "Even numbers in range(5) are 0, 2, 4 — that's 3 numbers."
      },
      {
        "id": "final-q7",
        "type": "multiple_choice",
        "prompt": "What does the `continue` statement do inside a loop?",
        "options": [
          "Exits the loop entirely",
          "Skips to the next iteration of the loop",
          "Restarts the loop from the beginning",
          "Pauses the loop execution"
        ],
        "correctAnswer": 1,
        "explanation": "`continue` skips the rest of the current iteration and moves to the next one."
      },
      {
        "id": "final-q8",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "result = []\nfor i in range(3):\n    for j in range(2):\n        result.append((i, j))\nprint(len(result))",
        "correctAnswer": "6",
        "explanation": "Nested loops: 3 × 2 = 6 tuples are appended."
      },
      {
        "id": "final-q9",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "for i in range(5):\n    if i == 3:\n        break\nelse:\n    print(\"Complete\")\nprint(\"End\")",
        "correctAnswer": "End",
        "explanation": "The else block after a for loop only runs if the loop completes without break. Since break is called, \"Complete\" is skipped."
      },
      {
        "id": "final-q10",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "nums = [1, 2, 3]\nfor i, num in enumerate(nums, start=1):\n    print(f\"{i}:{num}\", end=\" \")",
        "correctAnswer": "1:1 2:2 3:3 ",
        "explanation": "enumerate with start=1 begins indexing at 1 instead of 0."
      },
      {
        "id": "final-q11",
        "type": "true_false",
        "prompt": "Using a mutable default argument (like a list) in a function can lead to unexpected behavior across multiple calls.",
        "correctAnswer": true,
        "explanation": "Default arguments are evaluated once when the function is defined. Mutating them persists across calls."
      },
      {
        "id": "final-q12",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def add(a, b=10):\n    return a + b\n\nprint(add(5))\nprint(add(5, 3))",
        "correctAnswer": "15\n8",
        "explanation": "First call uses default b=10 (5+10=15). Second call overrides b=3 (5+3=8)."
      },
      {
        "id": "final-q13",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "square = lambda x: x ** 2\nprint(square(5))",
        "correctAnswer": "25",
        "explanation": "Lambda functions are anonymous functions. \"lambda x: x ** 2\" squares its input. 5**2 = 25."
      },
      {
        "id": "final-q14",
        "type": "coding",
        "prompt": "Implement `count_vowels(s)` that returns how many vowels (a, e, i, o, u) appear in a lowercase string.",
        "starterCode": "def count_vowels(s: str) -> int:\n    # TODO: implement\n    return 0",
        "language": "python",
        "solution": "def count_vowels(s: str) -> int:\n    vowels = \"aeiou\"\n    count = 0\n    for ch in s:\n        if ch in vowels:\n            count += 1\n    return count",
        "testCases": [
          {
            "input": "count_vowels(\"hello\")",
            "expectedOutput": "2",
            "isHidden": false,
            "description": "basic case"
          },
          {
            "input": "count_vowels(\"sky\")",
            "expectedOutput": "0",
            "isHidden": false,
            "description": "no vowels"
          },
          {
            "input": "count_vowels(\"aeiou\")",
            "expectedOutput": "5",
            "isHidden": false,
            "description": "all vowels"
          },
          {
            "input": "count_vowels(\"\")",
            "expectedOutput": "0",
            "isHidden": true,
            "description": "empty string"
          }
        ],
        "correctAnswer": true,
        "explanation": "Iterate through characters and count those that are in the vowel set."
      },
      {
        "id": "final-q15",
        "type": "multiple_choice",
        "prompt": "What does *args allow in a function definition?",
        "options": [
          "Required arguments only",
          "Keyword arguments only",
          "Variable number of positional arguments",
          "Exactly two arguments"
        ],
        "correctAnswer": 2,
        "explanation": "*args collects any number of positional arguments into a tuple."
      },
      {
        "id": "final-q16",
        "type": "fill_blank",
        "prompt": "The built-in function used to iterate over a list with both index and value is ____.",
        "correctAnswer": "enumerate",
        "explanation": "enumerate() yields (index, value) pairs when iterating."
      },
      {
        "id": "final-q17",
        "type": "multiple_choice",
        "prompt": "Given `nums = [1, 2, 3, 4]`, what does `[n * n for n in nums if n % 2 == 0]` produce?",
        "options": [
          "[1, 4, 9, 16]",
          "[1, 9]",
          "[4, 16]",
          "[2, 4]"
        ],
        "correctAnswer": 2,
        "explanation": "The list comprehension squares only even numbers: 2²=4, 4²=16."
      },
      {
        "id": "final-q18",
        "type": "code_output",
        "prompt": "What does this snippet print?",
        "codeSnippet": "items = {\"a\": 1, \"b\": 2}\nfor key, value in items.items():\n    print(f\"{key}:{value}\")",
        "correctAnswer": "a:1\nb:2",
        "explanation": ".items() yields key-value pairs. They print in insertion order."
      },
      {
        "id": "final-q19",
        "type": "multiple_choice",
        "prompt": "Which of the following creates a tuple with one element?",
        "options": [
          "(1)",
          "(1,)",
          "[1]",
          "{1}"
        ],
        "correctAnswer": 1,
        "explanation": "A single-element tuple requires a trailing comma: (1,). Without it, (1) is just the integer 1 in parentheses."
      },
      {
        "id": "final-q20",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "data = [(\"alice\", 85), (\"bob\", 92), (\"carol\", 78)]\ndata.sort(key=lambda x: x[1])\nprint(data[0][0])",
        "correctAnswer": "carol",
        "explanation": "Sorting by the second element (score) in ascending order puts carol (78) first."
      },
      {
        "id": "final-q21",
        "type": "coding",
        "prompt": "Write `unique_sorted(nums)` that returns a sorted list of unique integers from the input list.",
        "starterCode": "def unique_sorted(nums):\n    # TODO: implement\n    return []",
        "language": "python",
        "solution": "def unique_sorted(nums):\n    return sorted(set(nums))",
        "testCases": [
          {
            "input": "unique_sorted([3, 1, 2, 2, 3])",
            "expectedOutput": "[1, 2, 3]",
            "isHidden": false,
            "description": "dedupe and sort"
          },
          {
            "input": "unique_sorted([])",
            "expectedOutput": "[]",
            "isHidden": false,
            "description": "empty list"
          },
          {
            "input": "unique_sorted([5, -1, 5, 0])",
            "expectedOutput": "[-1, 0, 5]",
            "isHidden": false,
            "description": "negative numbers"
          }
        ],
        "correctAnswer": true,
        "explanation": "Convert to set to remove duplicates, then sort the result."
      },
      {
        "id": "final-q22",
        "type": "true_false",
        "prompt": "Files opened with `with open(...)` are automatically closed when the block exits.",
        "correctAnswer": true,
        "explanation": "The context manager (with statement) ensures the file is closed, even if an exception occurs."
      },
      {
        "id": "final-q23",
        "type": "multiple_choice",
        "prompt": "Which file mode appends to a file without overwriting existing content?",
        "options": [
          "\"r\"",
          "\"w\"",
          "\"a\"",
          "\"x\""
        ],
        "correctAnswer": 2,
        "explanation": "\"a\" (append) mode adds new content to the end of the file without truncating."
      },
      {
        "id": "final-q24",
        "type": "multiple_choice",
        "prompt": "What does `file.readlines()` return?",
        "options": [
          "A single string with all content",
          "A list of lines from the file",
          "The first line of the file",
          "The number of lines in the file"
        ],
        "correctAnswer": 1,
        "explanation": "readlines() returns a list where each element is a line from the file (including newlines)."
      },
      {
        "id": "final-q25",
        "type": "written",
        "prompt": "Explain why it's better to use `with open(filename) as f:` rather than `f = open(filename)` followed by `f.close()`.",
        "correctAnswer": "automatically",
        "explanation": "The with statement guarantees the file is closed even if an exception occurs.",
        "modelAnswer": "Using `with open(filename) as f:` is better because it guarantees the file will be closed automatically when the block exits, even if an exception occurs. With the manual approach (`f = open(...)` followed by `f.close()`), if an exception happens between opening and closing, the file may remain open, potentially causing resource leaks or data corruption. The context manager handles cleanup automatically and makes the code safer and more readable."
      },
      {
        "id": "final-q26",
        "type": "multiple_choice",
        "prompt": "What exception is raised when you try to convert \"hello\" to an integer using int()?",
        "options": [
          "TypeError",
          "ValueError",
          "ConversionError",
          "IntegerError"
        ],
        "correctAnswer": 1,
        "explanation": "ValueError is raised when a function receives an argument of the right type but inappropriate value."
      },
      {
        "id": "final-q27",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "try:\n    x = 10 / 0\nexcept ZeroDivisionError:\n    print(\"Error!\")\nfinally:\n    print(\"Done\")",
        "correctAnswer": "Error!\nDone",
        "explanation": "The exception is caught and \"Error!\" prints. The finally block always runs, printing \"Done\"."
      },
      {
        "id": "final-q28",
        "type": "multiple_choice",
        "prompt": "When does the `else` clause in a try/except/else block execute?",
        "options": [
          "Always after the try block",
          "Only when an exception occurs",
          "Only when no exception occurs in the try block",
          "Only when the finally block is missing"
        ],
        "correctAnswer": 2,
        "explanation": "The else clause runs only if the try block completes successfully without raising any exceptions."
      },
      {
        "id": "final-q29",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def validate(n):\n    if n < 0:\n        raise ValueError(\"Negative!\")\n    return n * 2\n\ntry:\n    result = validate(-5)\nexcept ValueError as e:\n    result = 0\nprint(result)",
        "correctAnswer": "0",
        "explanation": "validate(-5) raises ValueError, which is caught and result is set to 0."
      },
      {
        "id": "final-q30",
        "type": "true_false",
        "prompt": "Using a bare `except:` clause (without specifying an exception type) is considered good practice.",
        "correctAnswer": false,
        "explanation": "Bare except clauses catch all exceptions including KeyboardInterrupt and SystemExit. Always catch specific exceptions."
      },
      {
        "id": "final-q31",
        "type": "coding",
        "prompt": "Write a function `safe_divide(a, b)` that returns a/b if b is not zero, otherwise returns None.",
        "starterCode": "def safe_divide(a, b):\n    # TODO: implement\n    pass",
        "language": "python",
        "solution": "def safe_divide(a, b):\n    try:\n        return a / b\n    except ZeroDivisionError:\n        return None",
        "testCases": [
          {
            "input": "safe_divide(10, 2)",
            "expectedOutput": "5.0",
            "isHidden": false,
            "description": "normal division"
          },
          {
            "input": "safe_divide(10, 0)",
            "expectedOutput": "None",
            "isHidden": false,
            "description": "division by zero"
          },
          {
            "input": "safe_divide(0, 5)",
            "expectedOutput": "0.0",
            "isHidden": true,
            "description": "zero numerator"
          }
        ],
        "correctAnswer": true,
        "explanation": "Use try/except to catch ZeroDivisionError and return None in that case."
      },
      {
        "id": "final-q32",
        "type": "multiple_choice",
        "prompt": "What is the \"base case\" in a recursive function?",
        "options": [
          "The first call to the function",
          "The condition that stops the recursion",
          "The recursive call itself",
          "The return type of the function"
        ],
        "correctAnswer": 1,
        "explanation": "The base case is the condition where the function returns a result without making another recursive call."
      },
      {
        "id": "final-q33",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def factorial(n):\n    if n <= 1:\n        return 1\n    return n * factorial(n - 1)\n\nprint(factorial(5))",
        "correctAnswer": "120",
        "explanation": "factorial(5) = 5 * 4 * 3 * 2 * 1 = 120."
      },
      {
        "id": "final-q34",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def sum_digits(n):\n    if n < 10:\n        return n\n    return n % 10 + sum_digits(n // 10)\n\nprint(sum_digits(1234))",
        "correctAnswer": "10",
        "explanation": "Sums the digits: 4 + 3 + 2 + 1 = 10. Each recursive call extracts and sums the last digit."
      },
      {
        "id": "final-q35",
        "type": "multiple_choice",
        "prompt": "What error occurs when a recursive function has no base case or never reaches it?",
        "options": [
          "ValueError",
          "RecursionError",
          "StackOverflowError",
          "InfiniteLoopError"
        ],
        "correctAnswer": 1,
        "explanation": "Python raises RecursionError when the maximum recursion depth is exceeded."
      },
      {
        "id": "final-q36",
        "type": "coding",
        "prompt": "Write a recursive function `power(base, exp)` that calculates base^exp. Assume exp >= 0.",
        "starterCode": "def power(base, exp):\n    # TODO: implement recursively\n    pass",
        "language": "python",
        "solution": "def power(base, exp):\n    if exp == 0:\n        return 1\n    return base * power(base, exp - 1)",
        "testCases": [
          {
            "input": "power(2, 3)",
            "expectedOutput": "8",
            "isHidden": false,
            "description": "2^3 = 8"
          },
          {
            "input": "power(5, 0)",
            "expectedOutput": "1",
            "isHidden": false,
            "description": "any^0 = 1"
          },
          {
            "input": "power(3, 4)",
            "expectedOutput": "81",
            "isHidden": true,
            "description": "3^4 = 81"
          }
        ],
        "correctAnswer": true,
        "explanation": "Base case: exp == 0 returns 1. Recursive case: base * power(base, exp - 1)."
      },
      {
        "id": "final-q37",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "def fib(n):\n    if n <= 1:\n        return n\n    return fib(n - 1) + fib(n - 2)\n\nprint(fib(6))",
        "correctAnswer": "8",
        "explanation": "Fibonacci sequence: F(0)=0, F(1)=1, F(2)=1, F(3)=2, F(4)=3, F(5)=5, F(6)=8."
      },
      {
        "id": "final-q38",
        "type": "multiple_choice",
        "prompt": "What is wrong with this code?\n\n```python\ndef sum_evens(nums):\n    total = 0\n    for i in range(len(nums)):\n        if nums[i] % 2 == 0:\n            total += nums[i + 1]\n    return total\n```",
        "options": [
          "The modulo operator is wrong",
          "It adds nums[i + 1] instead of nums[i]",
          "The range should start at 1",
          "total should start at 1"
        ],
        "correctAnswer": 1,
        "explanation": "The bug is adding nums[i + 1] instead of nums[i]. This adds the wrong element and may cause IndexError."
      },
      {
        "id": "final-q39",
        "type": "multiple_choice",
        "prompt": "What is the output of this buggy code?\n\n```python\ndef print_1_to_n(n):\n    for i in range(n):\n        print(i)\n\nprint_1_to_n(3)\n```",
        "options": [
          "1 2 3",
          "0 1 2",
          "1 2",
          "0 1 2 3"
        ],
        "correctAnswer": 1,
        "explanation": "range(n) produces 0 to n-1, so it prints 0, 1, 2 instead of 1, 2, 3. Should use range(1, n+1)."
      },
      {
        "id": "final-q40",
        "type": "written",
        "prompt": "Explain what is wrong with using a mutable default argument like `def add_item(item, lst=[])` and how to fix it.",
        "correctAnswer": "none",
        "explanation": "Mutable default arguments are shared between calls. Use None as default and create a new list inside the function.",
        "modelAnswer": "The problem is that mutable default arguments (like lists) are evaluated once when the function is defined, not each time it's called. This means the same list object is reused across all calls, causing items to accumulate unexpectedly. For example, calling add_item(1) then add_item(2) would result in [1, 2] instead of [2]. To fix it, use None as the default and create the list inside the function: `def add_item(item, lst=None): if lst is None: lst = [] ...`"
      },
      {
        "id": "final-q41",
        "type": "code_output",
        "prompt": "What does this code print?",
        "codeSnippet": "numbers = [1, 2, 3, 4, 5]\nfor num in numbers:\n    if num % 2 == 0:\n        numbers.remove(num)\nprint(numbers)",
        "correctAnswer": "[1, 3, 5]",
        "explanation": "Modifying a list while iterating can skip elements, but in this case it happens to work. However, this is dangerous and should use a copy."
      },
      {
        "id": "final-q42",
        "type": "coding",
        "prompt": "Write a function `word_frequency(text)` that takes a string and returns a dictionary mapping each word (lowercase) to its count. Ignore punctuation by splitting on whitespace only.",
        "starterCode": "def word_frequency(text):\n    # TODO: implement\n    return {}",
        "language": "python",
        "solution": "def word_frequency(text):\n    words = text.lower().split()\n    freq = {}\n    for word in words:\n        freq[word] = freq.get(word, 0) + 1\n    return freq",
        "testCases": [
          {
            "input": "word_frequency(\"the cat and the dog\")",
            "expectedOutput": "{'the': 2, 'cat': 1, 'and': 1, 'dog': 1}",
            "isHidden": false,
            "description": "basic frequency count"
          },
          {
            "input": "word_frequency(\"\")",
            "expectedOutput": "{}",
            "isHidden": false,
            "description": "empty string"
          },
          {
            "input": "word_frequency(\"Hello hello HELLO\")",
            "expectedOutput": "{'hello': 3}",
            "isHidden": true,
            "description": "case insensitive"
          }
        ],
        "correctAnswer": true,
        "explanation": "Convert to lowercase, split into words, and count occurrences using a dictionary."
      }
    ]
  }
]