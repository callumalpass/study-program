[
  {
    "id": "cs205-quiz-7-1",
    "subjectId": "cs205",
    "topicId": "cs205-7",
    "title": "Query Processing",
    "questions": [
      {
        "id": "q1",
        "type": "multiple_choice",
        "prompt": "What is the first step in query processing?",
        "options": [
          "Optimization",
          "Execution",
          "Parsing",
          "Planning"
        ],
        "correctAnswer": 2,
        "explanation": "Parsing checks syntax and converts SQL to an internal representation (parse tree)."
      },
      {
        "id": "q2",
        "type": "multiple_choice",
        "prompt": "The query optimizer's main goal is to:",
        "options": [
          "Choose the most efficient execution plan",
          "Manage memory",
          "Parse SQL syntax",
          "Guarantee correctness"
        ],
        "correctAnswer": 0,
        "explanation": "The optimizer evaluates different execution strategies and chooses the one with lowest estimated cost."
      },
      {
        "id": "q3",
        "type": "true_false",
        "prompt": "A hash join is typically more efficient than nested loop join for large equi-joins.",
        "correctAnswer": true,
        "explanation": "Hash joins are O(m+n) versus O(m×n) for nested loops, better for large tables."
      },
      {
        "id": "q4",
        "type": "multiple_choice",
        "prompt": "Which join algorithm requires sorted input?",
        "options": [
          "Hash join",
          "Merge join",
          "Nested loop",
          "Cross join"
        ],
        "correctAnswer": 1,
        "explanation": "Merge join merges two sorted inputs and is efficient when data is already sorted or indexes exist."
      },
      {
        "id": "q5",
        "type": "fill_blank",
        "prompt": "The process of converting SQL to relational algebra is called query ______.",
        "correctAnswer": "translation",
        "explanation": "Query translation converts SQL into relational algebra expressions for optimization."
      }
    ]
  },
  {
    "id": "cs205-quiz-7-2",
    "subjectId": "cs205",
    "topicId": "cs205-7",
    "title": "Execution Plans",
    "questions": [
      {
        "id": "q1",
        "type": "multiple_choice",
        "prompt": "What SQL command shows how a query will be executed?",
        "options": [
          "SHOW PLAN",
          "EXPLAIN",
          "ANALYZE",
          "DESCRIBE"
        ],
        "correctAnswer": 1,
        "explanation": "EXPLAIN (and EXPLAIN ANALYZE) displays the query execution plan."
      },
      {
        "id": "q2",
        "type": "multiple_choice",
        "prompt": "In an execution plan, what does \"Seq Scan\" indicate?",
        "options": [
          "Sequential index scan",
          "Full table scan",
          "Sorted scan",
          "Parallel scan"
        ],
        "correctAnswer": 1,
        "explanation": "Sequential scan (Seq Scan) reads all table pages—often indicates a missing index."
      },
      {
        "id": "q3",
        "type": "true_false",
        "prompt": "A high difference between estimated and actual rows often indicates stale statistics.",
        "correctAnswer": true,
        "explanation": "Statistics help the optimizer estimate row counts; outdated statistics lead to poor plans."
      },
      {
        "id": "q4",
        "type": "multiple_choice",
        "prompt": "Which is generally better in an execution plan?",
        "options": [
          "Index Seek on selective column",
          "Table Scan on large table",
          "Nested Loop with large inner table",
          "Sort with disk spillover"
        ],
        "correctAnswer": 0,
        "explanation": "Index Seek efficiently finds specific rows without scanning the entire table."
      },
      {
        "id": "q5",
        "type": "multiple_choice",
        "prompt": "\"Index Only Scan\" means:",
        "options": [
          "Query was satisfied entirely from the index",
          "Only primary key was used",
          "Only indexes were created",
          "Index was exclusively locked"
        ],
        "correctAnswer": 0,
        "explanation": "Index-only scan retrieves all needed data from the index without accessing the table."
      }
    ]
  },
  {
    "id": "cs205-quiz-7-3",
    "subjectId": "cs205",
    "topicId": "cs205-7",
    "title": "Query Optimization Techniques",
    "questions": [
      {
        "id": "q1",
        "type": "multiple_choice",
        "prompt": "What is predicate pushdown?",
        "options": [
          "Moving ORDER BY to end",
          "Moving filters closer to data sources",
          "Pushing data to cache",
          "Delaying predicate evaluation"
        ],
        "correctAnswer": 1,
        "explanation": "Predicate pushdown applies WHERE conditions early to reduce rows processed by later operations."
      },
      {
        "id": "q2",
        "type": "multiple_choice",
        "prompt": "Why should functions on indexed columns be avoided in WHERE clauses?",
        "options": [
          "They cause NULL values",
          "They are slower to compute",
          "They prevent index usage",
          "They are syntactically incorrect"
        ],
        "correctAnswer": 2,
        "explanation": "Functions on columns (e.g., UPPER(name)) prevent the optimizer from using indexes on those columns."
      },
      {
        "id": "q3",
        "type": "true_false",
        "prompt": "JOIN elimination can remove unnecessary joins when joined columns are not used.",
        "correctAnswer": true,
        "explanation": "Optimizers can eliminate joins that don't contribute to the result (if referential integrity allows)."
      },
      {
        "id": "q4",
        "type": "multiple_choice",
        "prompt": "Converting a correlated subquery to a join is called:",
        "options": [
          "Query expansion",
          "Query folding",
          "Subquery unnesting",
          "Join promotion"
        ],
        "correctAnswer": 2,
        "explanation": "Subquery unnesting (decorrelation) converts correlated subqueries to more efficient joins."
      },
      {
        "id": "q5",
        "type": "fill_blank",
        "prompt": "The UPDATE STATISTICS command refreshes table ______ used by the optimizer.",
        "correctAnswer": "statistics",
        "explanation": "Statistics about data distribution help the optimizer make accurate cardinality estimates."
      }
    ]
  }
]
