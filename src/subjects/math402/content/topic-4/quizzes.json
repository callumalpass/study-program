[
  {
    "id": "math402-quiz-4a",
    "subjectId": "math402",
    "topicId": "math402-topic-4",
    "title": "Numerical Differentiation and Integration - Fundamentals",
    "questions": [
      {
        "id": "q1",
        "type": "multiple_choice",
        "prompt": "The forward difference approximation f'(x) ≈ (f(x+h) - f(x))/h has truncation error of order:",
        "options": [
          "O(h^2)",
          "O(h)",
          "O(1)",
          "O(h^3)"
        ],
        "correctAnswer": 1,
        "explanation": "By Taylor expansion: f(x+h) = f(x) + hf'(x) + (h^2/2)f''(x) + ..., so the forward difference has error O(h)."
      },
      {
        "id": "q2",
        "type": "multiple_choice",
        "prompt": "Which formula provides a better approximation for f'(x)?",
        "options": [
          "Forward difference: (f(x+h) - f(x))/h",
          "Backward difference: (f(x) - f(x-h))/h",
          "Centered difference: (f(x+h) - f(x-h))/(2h)",
          "All are equally accurate"
        ],
        "correctAnswer": 2,
        "explanation": "Centered difference is O(h^2) accurate (even terms in Taylor series cancel), while forward and backward differences are only O(h)."
      },
      {
        "id": "q3",
        "type": "code_output",
        "prompt": "What is the output of this centered difference approximation?",
        "codeSnippet": "import math\nf = lambda x: x**2\nx = 2.0\nh = 0.1\ndf_approx = (f(x + h) - f(x - h)) / (2 * h)\nprint(f'{df_approx:.1f}')",
        "correctAnswer": "4.0",
        "explanation": "Centered difference for f(x)=x² at x=2: (f(2.1)-f(1.9))/(2·0.1) = (4.41-3.61)/0.2 = 0.8/0.2 = 4.0. Exact derivative is 2x = 4."
      },
      {
        "id": "q4",
        "type": "true_false",
        "prompt": "The trapezoidal rule is exact for linear functions.",
        "correctAnswer": true,
        "explanation": "True. The trapezoidal rule integrates by approximating the function as a line segment, so it exactly integrates any linear function f(x) = ax + b."
      },
      {
        "id": "q5",
        "type": "fill_blank",
        "prompt": "Simpson's rule uses ____ interpolation to approximate the integrand.",
        "correctAnswer": "quadratic",
        "explanation": "Simpson's rule approximates the integrand using quadratic polynomials through three points, integrating exactly all polynomials of degree ≤ 2."
      }
    ]
  },
  {
    "id": "math402-quiz-4b",
    "subjectId": "math402",
    "topicId": "math402-topic-4",
    "title": "Numerical Differentiation and Integration - Application",
    "questions": [
      {
        "id": "q1",
        "type": "multiple_choice",
        "prompt": "The composite trapezoidal rule with n subintervals has error of order:",
        "options": [
          "O(h)",
          "O(h^2)",
          "O(h^3)",
          "O(h^4)"
        ],
        "correctAnswer": 1,
        "explanation": "The composite trapezoidal rule has global error O(h^2), where h = (b-a)/n. Each panel has local error O(h^3), but summing n = O(1/h) panels gives O(h^2)."
      },
      {
        "id": "q2",
        "type": "code_output",
        "prompt": "What does this trapezoidal rule integration output?",
        "codeSnippet": "f = lambda x: x**2\na, b = 0, 2\nn = 4\nh = (b - a) / n\nintegral = (f(a) + f(b)) / 2\nfor i in range(1, n):\n    integral += f(a + i * h)\nintegral *= h\nprint(f'{integral:.2f}')",
        "correctAnswer": "2.75",
        "explanation": "Trapezoidal rule with n=4: h=0.5, points at 0,0.5,1,1.5,2. Integral = 0.5·[(0+4)/2 + 0.25 + 1 + 2.25] = 0.5·5.5 = 2.75. Exact: ∫₀²x²dx = 8/3 ≈ 2.67."
      },
      {
        "id": "q3",
        "type": "multiple_choice",
        "prompt": "Richardson extrapolation improves the order of accuracy by:",
        "options": [
          "Using smaller step sizes",
          "Combining approximations at different step sizes to cancel leading error terms",
          "Using higher-order polynomials",
          "Averaging forward and backward differences"
        ],
        "correctAnswer": 1,
        "explanation": "Richardson extrapolation combines results at different h values (e.g., h and h/2) with appropriate weights to eliminate the leading error term, increasing accuracy."
      },
      {
        "id": "q4",
        "type": "true_false",
        "prompt": "Simpson's rule has error O(h^4) per panel despite using only quadratic interpolation.",
        "correctAnswer": true,
        "explanation": "True. Simpson's rule is exact for cubics (not just quadratics) due to symmetry, giving local error O(h^5) and global error O(h^4)."
      },
      {
        "id": "q5",
        "type": "fill_blank",
        "prompt": "Romberg integration applies Richardson extrapolation to the ____ rule.",
        "correctAnswer": "trapezoidal",
        "explanation": "Romberg integration applies Richardson extrapolation to the trapezoidal rule with successively halved step sizes, building a triangular table of increasingly accurate approximations."
      }
    ]
  },
  {
    "id": "math402-quiz-4c",
    "subjectId": "math402",
    "topicId": "math402-topic-4",
    "title": "Numerical Differentiation and Integration - Mastery",
    "questions": [
      {
        "id": "q1",
        "type": "multiple_choice",
        "prompt": "Gaussian quadrature with n points integrates exactly polynomials of degree up to:",
        "options": [
          "n-1",
          "n",
          "2n-1",
          "2n"
        ],
        "correctAnswer": 2,
        "explanation": "Gaussian quadrature optimally chooses both nodes and weights, achieving exactness for polynomials of degree up to 2n-1 using n points (compared to 2n-1 for Newton-Cotes with n points)."
      },
      {
        "id": "q2",
        "type": "multiple_choice",
        "prompt": "The optimal step size h for centered difference approximation balancing truncation O(h^2) and roundoff O(ε/h) is approximately:",
        "options": [
          "ε",
          "√ε",
          "ε^{1/3}",
          "ε^{2/3}"
        ],
        "correctAnswer": 2,
        "explanation": "Total error is Ch^2 + Dε/h. Minimizing: 2Ch - Dε/h^2 = 0 gives h ∝ (ε/C)^{1/3} = O(ε^{1/3}). For ε ≈ 10^{-16}, optimal h ≈ 10^{-5}."
      },
      {
        "id": "q3",
        "type": "code_output",
        "prompt": "What does this Simpson's rule implementation output?",
        "codeSnippet": "import math\nf = lambda x: math.sin(x)\na, b = 0, math.pi\nn = 2  # 2 subintervals, 3 points\nh = (b - a) / n\nintegral = f(a) + f(b)\nfor i in range(1, n, 2):\n    integral += 4 * f(a + i * h)\nfor i in range(2, n, 2):\n    integral += 2 * f(a + i * h)\nintegral *= h / 3\nprint(f'{integral:.4f}')",
        "correctAnswer": "2.0944",
        "explanation": "Simpson's rule: h=π/2. Points: 0,π/2,π. Integral = (π/6)·[sin(0) + 4sin(π/2) + sin(π)] = (π/6)·[0+4+0] = 2π/3 ≈ 2.0944. Exact: ∫₀^π sin(x)dx = 2."
      },
      {
        "id": "q4",
        "type": "true_false",
        "prompt": "Adaptive quadrature methods recursively subdivide intervals where the estimated error exceeds a tolerance.",
        "correctAnswer": true,
        "explanation": "True. Adaptive methods like adaptive Simpson's estimate local error and refine the mesh only where needed, achieving target accuracy efficiently even for irregular integrands."
      },
      {
        "id": "q5",
        "type": "fill_blank",
        "prompt": "Gaussian quadrature optimizes both ____ and weights for maximum degree of exactness.",
        "correctAnswer": "nodes",
        "explanation": "Gaussian quadrature chooses optimal (non-equally-spaced) nodes as zeros of orthogonal polynomials, plus optimal weights, achieving degree 2n-1 exactness vs n-1 for Newton-Cotes with n points."
      }
    ]
  }
]
