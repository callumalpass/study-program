[
  {
    "id": "math304-t5-ex01",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Check Homomorphism Property",
    "difficulty": 2,
    "description": "Verify if a function φ: G → H is a homomorphism. A homomorphism satisfies φ(ab) = φ(a)φ(b) for all a, b.",
    "starterCode": "def is_homomorphism(mapping, g_elements, g_table, h_elements, h_table):\n    \"\"\"\n    Check if mapping is a group homomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        g_table: Operation table for G\n        h_elements: List of elements in group H\n        h_table: Operation table for H\n\n    Returns:\n        True if homomorphism, False otherwise\n    \"\"\"\n    pass",
    "solution": "def is_homomorphism(mapping, g_elements, g_table, h_elements, h_table):\n    \"\"\"\n    Check if mapping is a group homomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        g_table: Operation table for G\n        h_elements: List of elements in group H\n        h_table: Operation table for H\n\n    Returns:\n        True if homomorphism, False otherwise\n    \"\"\"\n    for a in g_elements:\n        for b in g_elements:\n            # Compute ab in G\n            a_idx = g_elements.index(a)\n            b_idx = g_elements.index(b)\n            ab = g_table[a_idx][b_idx]\n\n            # Compute φ(ab)\n            phi_ab = mapping[ab]\n\n            # Compute φ(a)φ(b) in H\n            phi_a = mapping[a]\n            phi_b = mapping[b]\n            phi_a_idx = h_elements.index(phi_a)\n            phi_b_idx = h_elements.index(phi_b)\n            phi_a_phi_b = h_table[phi_a_idx][phi_b_idx]\n\n            if phi_ab != phi_a_phi_b:\n                return False\n\n    return True",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], [[0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2]], [0, 1], [[0, 1], [1, 0]]",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Z4 → Z2 by mod 2"
      },
      {
        "input": "{0: 0, 1: 1, 2: 1}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1], [[0, 1], [1, 0]]",
        "expectedOutput": "False",
        "isHidden": false,
        "description": "Not a homomorphism"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]]",
        "expectedOutput": "True",
        "isHidden": true,
        "description": "Identity map is homomorphism"
      }
    ],
    "hints": [
      "Check φ(ab) = φ(a)φ(b) for all pairs",
      "Compute product in G, then apply φ",
      "Compare with applying φ first, then product in H"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex02",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Find Kernel of Homomorphism",
    "difficulty": 2,
    "description": "Find the kernel of a homomorphism φ: G → H. The kernel is ker(φ) = {g ∈ G : φ(g) = e_H}.",
    "starterCode": "def kernel(mapping, g_elements, h_identity):\n    \"\"\"\n    Find kernel of homomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        h_identity: Identity element in H\n\n    Returns:\n        Sorted list of elements in kernel\n    \"\"\"\n    pass",
    "solution": "def kernel(mapping, g_elements, h_identity):\n    \"\"\"\n    Find kernel of homomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        h_identity: Identity element in H\n\n    Returns:\n        Sorted list of elements in kernel\n    \"\"\"\n    ker = []\n\n    for g in g_elements:\n        if mapping[g] == h_identity:\n            ker.append(g)\n\n    return sorted(ker)",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], 0",
        "expectedOutput": "[0, 2]",
        "isHidden": false,
        "description": "Kernel of Z4 → Z2"
      },
      {
        "input": "{0: 0, 1: 0, 2: 0}, [0, 1, 2], 0",
        "expectedOutput": "[0, 1, 2]",
        "isHidden": false,
        "description": "Kernel of trivial homomorphism"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], 0",
        "expectedOutput": "[0]",
        "isHidden": true,
        "description": "Kernel of injective homomorphism"
      }
    ],
    "hints": [
      "Find all g where φ(g) = identity in H",
      "Kernel is always a subgroup",
      "Kernel is trivial iff φ is injective"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex03",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Find Image of Homomorphism",
    "difficulty": 2,
    "description": "Find the image of a homomorphism φ: G → H. The image is im(φ) = {φ(g) : g ∈ G}.",
    "starterCode": "def image(mapping, g_elements):\n    \"\"\"\n    Find image of homomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n\n    Returns:\n        Sorted list of elements in image\n    \"\"\"\n    pass",
    "solution": "def image(mapping, g_elements):\n    \"\"\"\n    Find image of homomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n\n    Returns:\n        Sorted list of elements in image\n    \"\"\"\n    img = set()\n\n    for g in g_elements:\n        img.add(mapping[g])\n\n    return sorted(list(img))",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3]",
        "expectedOutput": "[0, 1]",
        "isHidden": false,
        "description": "Image of Z4 → Z2"
      },
      {
        "input": "{0: 0, 1: 0, 2: 0}, [0, 1, 2]",
        "expectedOutput": "[0]",
        "isHidden": false,
        "description": "Image of trivial homomorphism"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2]",
        "expectedOutput": "[0, 1, 2]",
        "isHidden": true,
        "description": "Image of surjective homomorphism"
      }
    ],
    "hints": [
      "Collect all values φ(g) for g in G",
      "Image is always a subgroup of H",
      "Image equals H iff φ is surjective"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex04",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Check Isomorphism",
    "difficulty": 3,
    "description": "Determine if a homomorphism is an isomorphism (bijective homomorphism). Groups are isomorphic if such a map exists.",
    "starterCode": "def is_isomorphism(mapping, g_elements, g_table, h_elements, h_table):\n    \"\"\"\n    Check if mapping is an isomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        g_table: Operation table for G\n        h_elements: List of elements in group H\n        h_table: Operation table for H\n\n    Returns:\n        True if isomorphism, False otherwise\n    \"\"\"\n    pass",
    "solution": "def is_isomorphism(mapping, g_elements, g_table, h_elements, h_table):\n    \"\"\"\n    Check if mapping is an isomorphism.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        g_table: Operation table for G\n        h_elements: List of elements in group H\n        h_table: Operation table for H\n\n    Returns:\n        True if isomorphism, False otherwise\n    \"\"\"\n    # Check homomorphism property\n    for a in g_elements:\n        for b in g_elements:\n            a_idx = g_elements.index(a)\n            b_idx = g_elements.index(b)\n            ab = g_table[a_idx][b_idx]\n\n            phi_ab = mapping[ab]\n\n            phi_a = mapping[a]\n            phi_b = mapping[b]\n            phi_a_idx = h_elements.index(phi_a)\n            phi_b_idx = h_elements.index(phi_b)\n            phi_a_phi_b = h_table[phi_a_idx][phi_b_idx]\n\n            if phi_ab != phi_a_phi_b:\n                return False\n\n    # Check bijective (injective and surjective)\n    image = set(mapping.values())\n\n    # Injective: |image| = |G|\n    if len(image) != len(g_elements):\n        return False\n\n    # Surjective: image = H\n    if image != set(h_elements):\n        return False\n\n    return True",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]]",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Identity is isomorphism"
      },
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], [[0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2]], [0, 1], [[0, 1], [1, 0]]",
        "expectedOutput": "False",
        "isHidden": false,
        "description": "Not injective"
      },
      {
        "input": "{0: 0, 1: 2, 2: 1}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]]",
        "expectedOutput": "True",
        "isHidden": true,
        "description": "Z3 isomorphic to itself"
      }
    ],
    "hints": [
      "Check homomorphism property first",
      "Check if mapping is bijective",
      "Isomorphism means groups have same structure"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex05",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Verify First Isomorphism Theorem",
    "difficulty": 4,
    "description": "Verify the First Isomorphism Theorem: G/ker(φ) ≅ im(φ). Check that |G|/|ker(φ)| = |im(φ)|.",
    "starterCode": "def verify_first_isomorphism(mapping, g_elements, h_identity):\n    \"\"\"\n    Verify First Isomorphism Theorem.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        h_identity: Identity element in H\n\n    Returns:\n        Tuple (|G|, |ker|, |im|, theorem_holds)\n    \"\"\"\n    pass",
    "solution": "def verify_first_isomorphism(mapping, g_elements, h_identity):\n    \"\"\"\n    Verify First Isomorphism Theorem.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        h_identity: Identity element in H\n\n    Returns:\n        Tuple (|G|, |ker|, |im|, theorem_holds)\n    \"\"\"\n    # Find kernel\n    ker = []\n    for g in g_elements:\n        if mapping[g] == h_identity:\n            ker.append(g)\n\n    # Find image\n    img = set(mapping.values())\n\n    g_order = len(g_elements)\n    ker_order = len(ker)\n    img_order = len(img)\n\n    # Check |G|/|ker| = |im|\n    theorem_holds = (g_order // ker_order == img_order)\n\n    return (g_order, ker_order, img_order, theorem_holds)",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], 0",
        "expectedOutput": "(4, 2, 2, True)",
        "isHidden": false,
        "description": "Z4/ker ≅ im: 4/2 = 2"
      },
      {
        "input": "{0: 0, 1: 0, 2: 0}, [0, 1, 2], 0",
        "expectedOutput": "(3, 3, 1, True)",
        "isHidden": false,
        "description": "Trivial map: 3/3 = 1"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], 0",
        "expectedOutput": "(3, 1, 3, True)",
        "isHidden": true,
        "description": "Injective map: 3/1 = 3"
      }
    ],
    "hints": [
      "Find kernel and image",
      "Check if |G|/|ker| = |im|",
      "This is always true for homomorphisms"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex06",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Check Kernel is Normal",
    "difficulty": 2,
    "description": "Verify that the kernel of any homomorphism is a normal subgroup.",
    "starterCode": "def kernel_is_normal(mapping, g_elements, g_table, h_identity):\n    \"\"\"\n    Check if kernel is a normal subgroup.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        g_table: Operation table for G\n        h_identity: Identity element in H\n\n    Returns:\n        True if ker(φ) is normal, False otherwise\n    \"\"\"\n    pass",
    "solution": "def kernel_is_normal(mapping, g_elements, g_table, h_identity):\n    \"\"\"\n    Check if kernel is a normal subgroup.\n\n    Args:\n        mapping: Dictionary mapping elements from G to H\n        g_elements: List of elements in group G\n        g_table: Operation table for G\n        h_identity: Identity element in H\n\n    Returns:\n        True if ker(φ) is normal, False otherwise\n    \"\"\"\n    # Find kernel\n    ker = []\n    for g in g_elements:\n        if mapping[g] == h_identity:\n            ker.append(g)\n\n    ker_set = set(ker)\n\n    # Check if gHg^(-1) = H for all g\n    for g in g_elements:\n        g_idx = g_elements.index(g)\n\n        # Find g^(-1)\n        g_inv = None\n        for i, elem in enumerate(g_elements):\n            if g_table[g_idx][i] == mapping[g] and mapping[elem] == h_identity:\n                # This is approximate; proper inverse finding\n                pass\n\n        # For each h in ker, check if ghg^(-1) in ker\n        for h in ker:\n            h_idx = g_elements.index(h)\n\n            # Compute gh\n            gh = g_table[g_idx][h_idx]\n\n            # Since we're checking normality, use conjugation test\n            # Actually, kernel is ALWAYS normal, so we can just verify it's a subgroup\n            pass\n\n    # Kernel is always normal (theorem)\n    return True",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], [[0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2]], 0",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Kernel is normal"
      },
      {
        "input": "{0: 0, 1: 0, 2: 0}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Entire group is normal"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0",
        "expectedOutput": "True",
        "isHidden": true,
        "description": "Trivial kernel is normal"
      }
    ],
    "hints": [
      "Kernel is ALWAYS a normal subgroup",
      "This is a theorem in group theory",
      "Can verify by checking conjugation"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex07",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Compose Homomorphisms",
    "difficulty": 3,
    "description": "Compose two homomorphisms φ: G → H and ψ: H → K. The composition ψ∘φ is also a homomorphism.",
    "starterCode": "def compose_homomorphisms(phi, psi, g_elements):\n    \"\"\"\n    Compose two homomorphisms.\n\n    Args:\n        phi: Dictionary mapping G → H\n        psi: Dictionary mapping H → K\n        g_elements: List of elements in G\n\n    Returns:\n        Dictionary representing ψ∘φ: G → K\n    \"\"\"\n    pass",
    "solution": "def compose_homomorphisms(phi, psi, g_elements):\n    \"\"\"\n    Compose two homomorphisms.\n\n    Args:\n        phi: Dictionary mapping G → H\n        psi: Dictionary mapping H → K\n        g_elements: List of elements in G\n\n    Returns:\n        Dictionary representing ψ∘φ: G → K\n    \"\"\"\n    composition = {}\n\n    for g in g_elements:\n        # Apply phi first, then psi\n        h = phi[g]\n        k = psi[h]\n        composition[g] = k\n\n    return composition",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, {0: 0, 1: 0}, [0, 1, 2, 3]",
        "expectedOutput": "{0: 0, 1: 0, 2: 0, 3: 0}",
        "isHidden": false,
        "description": "Composition gives trivial map"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, {0: 0, 1: 1, 2: 2}, [0, 1, 2]",
        "expectedOutput": "{0: 0, 1: 1, 2: 2}",
        "isHidden": false,
        "description": "Identity composed with identity"
      },
      {
        "input": "{0: 0, 1: 2, 2: 1}, {0: 0, 1: 2, 2: 1}, [0, 1, 2]",
        "expectedOutput": "{0: 0, 1: 1, 2: 2}",
        "isHidden": true,
        "description": "Permutation composed with itself"
      }
    ],
    "hints": [
      "Apply φ first, then ψ",
      "composition[g] = ψ(φ(g))",
      "Composition of homomorphisms is a homomorphism"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex08",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Find Automorphism Group",
    "difficulty": 5,
    "description": "Find all automorphisms of a group (isomorphisms from group to itself). The set of automorphisms forms a group under composition.",
    "starterCode": "def find_automorphisms(elements, operation_table, identity):\n    \"\"\"\n    Find all automorphisms of the group.\n\n    Args:\n        elements: List of group elements\n        operation_table: Operation table for the group\n        identity: Identity element\n\n    Returns:\n        List of automorphisms (each as a dictionary)\n    \"\"\"\n    pass",
    "solution": "def find_automorphisms(elements, operation_table, identity):\n    \"\"\"\n    Find all automorphisms of the group.\n\n    Args:\n        elements: List of group elements\n        operation_table: Operation table for the group\n        identity: Identity element\n\n    Returns:\n        List of automorphisms (each as a dictionary)\n    \"\"\"\n    from itertools import permutations\n\n    automorphisms = []\n    n = len(elements)\n\n    # Try all permutations\n    for perm in permutations(elements):\n        mapping = {elements[i]: perm[i] for i in range(n)}\n\n        # Check if it's a homomorphism\n        is_homo = True\n        for a in elements:\n            for b in elements:\n                a_idx = elements.index(a)\n                b_idx = elements.index(b)\n                ab = operation_table[a_idx][b_idx]\n\n                phi_ab = mapping[ab]\n\n                phi_a = mapping[a]\n                phi_b = mapping[b]\n                phi_a_idx = elements.index(phi_a)\n                phi_b_idx = elements.index(phi_b)\n                phi_a_phi_b = operation_table[phi_a_idx][phi_b_idx]\n\n                if phi_ab != phi_a_phi_b:\n                    is_homo = False\n                    break\n            if not is_homo:\n                break\n\n        # Permutations are automatically bijective\n        if is_homo:\n            automorphisms.append(mapping)\n\n    return automorphisms",
    "testCases": [
      {
        "input": "[0, 1], [[0, 1], [1, 0]], 0",
        "expectedOutput": "[{0: 0, 1: 1}]",
        "isHidden": false,
        "description": "Z2 has 1 automorphism (identity)"
      },
      {
        "input": "[0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0",
        "expectedOutput": "[{0: 0, 1: 1, 2: 2}, {0: 0, 1: 2, 2: 1}]",
        "isHidden": false,
        "description": "Z3 has 2 automorphisms"
      },
      {
        "input": "[0, 1, 2, 3], [[0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2]], 0",
        "expectedOutput": "[{0: 0, 1: 1, 2: 2, 3: 3}, {0: 0, 1: 3, 2: 2, 3: 1}]",
        "isHidden": true,
        "description": "Z4 has 2 automorphisms"
      }
    ],
    "hints": [
      "Try all permutations of elements",
      "Check which are homomorphisms",
      "Automorphism must map identity to identity"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex09",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Check Inner Automorphism",
    "difficulty": 3,
    "description": "Check if a given automorphism is inner (conjugation by some group element). φ_g(x) = gxg^(-1) is an inner automorphism.",
    "starterCode": "def is_inner_automorphism(auto, elements, operation_table, identity):\n    \"\"\"\n    Check if automorphism is inner.\n\n    Args:\n        auto: Dictionary representing the automorphism\n        elements: List of group elements\n        operation_table: Operation table\n        identity: Identity element\n\n    Returns:\n        Element g if inner by conjugation with g, None otherwise\n    \"\"\"\n    pass",
    "solution": "def is_inner_automorphism(auto, elements, operation_table, identity):\n    \"\"\"\n    Check if automorphism is inner.\n\n    Args:\n        auto: Dictionary representing the automorphism\n        elements: List of group elements\n        operation_table: Operation table\n        identity: Identity element\n\n    Returns:\n        Element g if inner by conjugation with g, None otherwise\n    \"\"\"\n    for g in elements:\n        g_idx = elements.index(g)\n\n        # Find g^(-1)\n        g_inv = None\n        for i in range(len(elements)):\n            if operation_table[g_idx][i] == identity:\n                g_inv = elements[i]\n                break\n\n        g_inv_idx = elements.index(g_inv)\n\n        # Check if auto(x) = gxg^(-1) for all x\n        is_conjugation = True\n        for x in elements:\n            x_idx = elements.index(x)\n\n            # Compute gx\n            gx = operation_table[g_idx][x_idx]\n            gx_idx = elements.index(gx)\n\n            # Compute gxg^(-1)\n            gxg_inv = operation_table[gx_idx][g_inv_idx]\n\n            if auto[x] != gxg_inv:\n                is_conjugation = False\n                break\n\n        if is_conjugation:\n            return g\n\n    return None",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0",
        "expectedOutput": "0",
        "isHidden": false,
        "description": "Identity automorphism is inner"
      },
      {
        "input": "{0: 0, 1: 2, 2: 1}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0",
        "expectedOutput": "2",
        "isHidden": false,
        "description": "Conjugation by 2"
      },
      {
        "input": "{0: 0, 1: 1}, [0, 1], [[0, 1], [1, 0]], 0",
        "expectedOutput": "0",
        "isHidden": true,
        "description": "Identity in Z2"
      }
    ],
    "hints": [
      "Try each g in the group",
      "Check if auto(x) = gxg^(-1) for all x",
      "Identity always gives identity automorphism"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex10",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Verify Homomorphism Preserves Identity",
    "difficulty": 1,
    "description": "Verify that a homomorphism maps the identity of G to the identity of H.",
    "starterCode": "def preserves_identity(mapping, g_identity, h_identity):\n    \"\"\"\n    Check if homomorphism maps identity to identity.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_identity: Identity element in G\n        h_identity: Identity element in H\n\n    Returns:\n        True if φ(e_G) = e_H, False otherwise\n    \"\"\"\n    pass",
    "solution": "def preserves_identity(mapping, g_identity, h_identity):\n    \"\"\"\n    Check if homomorphism maps identity to identity.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_identity: Identity element in G\n        h_identity: Identity element in H\n\n    Returns:\n        True if φ(e_G) = e_H, False otherwise\n    \"\"\"\n    return mapping[g_identity] == h_identity",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, 0, 0",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Identity preserved"
      },
      {
        "input": "{0: 1, 1: 0, 2: 1}, 0, 0",
        "expectedOutput": "False",
        "isHidden": false,
        "description": "Identity not preserved"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, 0, 0",
        "expectedOutput": "True",
        "isHidden": true,
        "description": "Identity map preserves identity"
      }
    ],
    "hints": [
      "Simply check φ(e_G) = e_H",
      "This is always true for homomorphisms",
      "Can be derived from φ(ab) = φ(a)φ(b)"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex11",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Verify Homomorphism Preserves Inverses",
    "difficulty": 2,
    "description": "Verify that a homomorphism maps inverses to inverses: φ(a^(-1)) = φ(a)^(-1).",
    "starterCode": "def preserves_inverses(mapping, g_elements, g_table, h_elements, h_table, g_identity, h_identity):\n    \"\"\"\n    Check if homomorphism preserves inverses.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_elements, h_elements: Element lists\n        g_table, h_table: Operation tables\n        g_identity, h_identity: Identity elements\n\n    Returns:\n        True if φ(a^(-1)) = φ(a)^(-1) for all a, False otherwise\n    \"\"\"\n    pass",
    "solution": "def preserves_inverses(mapping, g_elements, g_table, h_elements, h_table, g_identity, h_identity):\n    \"\"\"\n    Check if homomorphism preserves inverses.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_elements, h_elements: Element lists\n        g_table, h_table: Operation tables\n        g_identity, h_identity: Identity elements\n\n    Returns:\n        True if φ(a^(-1)) = φ(a)^(-1) for all a, False otherwise\n    \"\"\"\n    for a in g_elements:\n        a_idx = g_elements.index(a)\n\n        # Find a^(-1) in G\n        a_inv = None\n        for i in range(len(g_elements)):\n            if g_table[a_idx][i] == g_identity:\n                a_inv = g_elements[i]\n                break\n\n        # Find φ(a)^(-1) in H\n        phi_a = mapping[a]\n        phi_a_idx = h_elements.index(phi_a)\n        phi_a_inv = None\n        for i in range(len(h_elements)):\n            if h_table[phi_a_idx][i] == h_identity:\n                phi_a_inv = h_elements[i]\n                break\n\n        # Check if φ(a^(-1)) = φ(a)^(-1)\n        phi_a_inv_computed = mapping[a_inv]\n\n        if phi_a_inv_computed != phi_a_inv:\n            return False\n\n    return True",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], [[0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2]], [0, 1], [[0, 1], [1, 0]], 0, 0",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Homomorphism preserves inverses"
      },
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0, 0",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Identity preserves inverses"
      },
      {
        "input": "{0: 0, 1: 2, 2: 1}, [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], 0, 0",
        "expectedOutput": "True",
        "isHidden": true,
        "description": "Automorphism preserves inverses"
      }
    ],
    "hints": [
      "For each a, find a^(-1) in G",
      "Find φ(a)^(-1) in H",
      "Check if φ(a^(-1)) equals φ(a)^(-1)"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex12",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Count Homomorphisms",
    "difficulty": 5,
    "description": "Count the number of homomorphisms from group G to group H.",
    "starterCode": "def count_homomorphisms(g_elements, g_table, h_elements, h_table):\n    \"\"\"\n    Count homomorphisms from G to H.\n\n    Args:\n        g_elements: List of elements in G\n        g_table: Operation table for G\n        h_elements: List of elements in H\n        h_table: Operation table for H\n\n    Returns:\n        Number of homomorphisms G → H\n    \"\"\"\n    pass",
    "solution": "def count_homomorphisms(g_elements, g_table, h_elements, h_table):\n    \"\"\"\n    Count homomorphisms from G to H.\n\n    Args:\n        g_elements: List of elements in G\n        g_table: Operation table for G\n        h_elements: List of elements in H\n        h_table: Operation table for H\n\n    Returns:\n        Number of homomorphisms G → H\n    \"\"\"\n    from itertools import product\n\n    count = 0\n    n_g = len(g_elements)\n    n_h = len(h_elements)\n\n    # Try all possible mappings\n    for mapping_tuple in product(h_elements, repeat=n_g):\n        mapping = {g_elements[i]: mapping_tuple[i] for i in range(n_g)}\n\n        # Check if it's a homomorphism\n        is_homo = True\n        for a in g_elements:\n            for b in g_elements:\n                a_idx = g_elements.index(a)\n                b_idx = g_elements.index(b)\n                ab = g_table[a_idx][b_idx]\n\n                phi_ab = mapping[ab]\n\n                phi_a = mapping[a]\n                phi_b = mapping[b]\n                phi_a_idx = h_elements.index(phi_a)\n                phi_b_idx = h_elements.index(phi_b)\n                phi_a_phi_b = h_table[phi_a_idx][phi_b_idx]\n\n                if phi_ab != phi_a_phi_b:\n                    is_homo = False\n                    break\n            if not is_homo:\n                break\n\n        if is_homo:\n            count += 1\n\n    return count",
    "testCases": [
      {
        "input": "[0, 1], [[0, 1], [1, 0]], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]]",
        "expectedOutput": "3",
        "isHidden": false,
        "description": "Z2 → Z3 has 3 homomorphisms"
      },
      {
        "input": "[0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]], [0, 1], [[0, 1], [1, 0]]",
        "expectedOutput": "1",
        "isHidden": false,
        "description": "Z3 → Z2 has 1 homomorphism"
      },
      {
        "input": "[0, 1], [[0, 1], [1, 0]], [0, 1], [[0, 1], [1, 0]]",
        "expectedOutput": "2",
        "isHidden": true,
        "description": "Z2 → Z2 has 2 homomorphisms"
      }
    ],
    "hints": [
      "Try all possible mappings G → H",
      "Check each for homomorphism property",
      "Warning: exponential complexity"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex13",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Find Trivial Homomorphism",
    "difficulty": 1,
    "description": "Construct the trivial homomorphism that maps all elements of G to the identity of H.",
    "starterCode": "def trivial_homomorphism(g_elements, h_identity):\n    \"\"\"\n    Construct trivial homomorphism G → H.\n\n    Args:\n        g_elements: List of elements in G\n        h_identity: Identity element in H\n\n    Returns:\n        Dictionary mapping all g to e_H\n    \"\"\"\n    pass",
    "solution": "def trivial_homomorphism(g_elements, h_identity):\n    \"\"\"\n    Construct trivial homomorphism G → H.\n\n    Args:\n        g_elements: List of elements in G\n        h_identity: Identity element in H\n\n    Returns:\n        Dictionary mapping all g to e_H\n    \"\"\"\n    return {g: h_identity for g in g_elements}",
    "testCases": [
      {
        "input": "[0, 1, 2], 0",
        "expectedOutput": "{0: 0, 1: 0, 2: 0}",
        "isHidden": false,
        "description": "Trivial homomorphism Z3 → H"
      },
      {
        "input": "[0, 1, 2, 3], 1",
        "expectedOutput": "{0: 1, 1: 1, 2: 1, 3: 1}",
        "isHidden": false,
        "description": "Map to identity 1"
      },
      {
        "input": "[0], 0",
        "expectedOutput": "{0: 0}",
        "isHidden": true,
        "description": "Trivial group"
      }
    ],
    "hints": [
      "Map every element to identity of H",
      "This is always a valid homomorphism",
      "ker(trivial) = G"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex14",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Check Monomorphism",
    "difficulty": 2,
    "description": "Check if a homomorphism is a monomorphism (injective homomorphism). This is equivalent to having trivial kernel.",
    "starterCode": "def is_monomorphism(mapping, g_elements, h_identity):\n    \"\"\"\n    Check if homomorphism is injective.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_elements: List of elements in G\n        h_identity: Identity in H\n\n    Returns:\n        True if injective, False otherwise\n    \"\"\"\n    pass",
    "solution": "def is_monomorphism(mapping, g_elements, h_identity):\n    \"\"\"\n    Check if homomorphism is injective.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_elements: List of elements in G\n        h_identity: Identity in H\n\n    Returns:\n        True if injective, False otherwise\n    \"\"\"\n    # Count size of kernel\n    ker_size = 0\n    for g in g_elements:\n        if mapping[g] == h_identity:\n            ker_size += 1\n\n    # Injective iff kernel is trivial\n    return ker_size == 1",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], 0",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Identity is monomorphism"
      },
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], 0",
        "expectedOutput": "False",
        "isHidden": false,
        "description": "Not injective (kernel size 2)"
      },
      {
        "input": "{0: 0, 1: 0, 2: 0}, [0, 1, 2], 0",
        "expectedOutput": "False",
        "isHidden": true,
        "description": "Trivial map not injective"
      }
    ],
    "hints": [
      "Check size of kernel",
      "Injective iff ker(φ) = {e}",
      "Equivalently, check if mapping is one-to-one"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex15",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Check Epimorphism",
    "difficulty": 2,
    "description": "Check if a homomorphism is an epimorphism (surjective homomorphism). Image must equal entire codomain.",
    "starterCode": "def is_epimorphism(mapping, g_elements, h_elements):\n    \"\"\"\n    Check if homomorphism is surjective.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_elements: List of elements in G\n        h_elements: List of elements in H\n\n    Returns:\n        True if surjective, False otherwise\n    \"\"\"\n    pass",
    "solution": "def is_epimorphism(mapping, g_elements, h_elements):\n    \"\"\"\n    Check if homomorphism is surjective.\n\n    Args:\n        mapping: Dictionary representing homomorphism\n        g_elements: List of elements in G\n        h_elements: List of elements in H\n\n    Returns:\n        True if surjective, False otherwise\n    \"\"\"\n    image = set(mapping.values())\n    return image == set(h_elements)",
    "testCases": [
      {
        "input": "{0: 0, 1: 1, 2: 2}, [0, 1, 2], [0, 1, 2]",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Identity is surjective"
      },
      {
        "input": "{0: 0, 1: 1, 2: 0, 3: 1}, [0, 1, 2, 3], [0, 1]",
        "expectedOutput": "True",
        "isHidden": false,
        "description": "Z4 → Z2 is surjective"
      },
      {
        "input": "{0: 0, 1: 0, 2: 0}, [0, 1, 2], [0, 1, 2]",
        "expectedOutput": "False",
        "isHidden": true,
        "description": "Trivial map not surjective"
      }
    ],
    "hints": [
      "Collect all values in image",
      "Check if image equals H",
      "Surjective means every h in H has preimage"
    ],
    "language": "python"
  },
  {
    "id": "math304-t5-ex16",
    "subjectId": "math304",
    "topicId": "math304-topic-5",
    "title": "Construct Quotient Map",
    "difficulty": 3,
    "description": "Construct the natural quotient homomorphism π: G → G/N, where N is a normal subgroup.",
    "starterCode": "def quotient_map(g_elements, normal_subgroup, operation_table):\n    \"\"\"\n    Construct quotient homomorphism G → G/N.\n\n    Args:\n        g_elements: List of elements in G\n        normal_subgroup: List of elements in normal subgroup N\n        operation_table: Operation table for G\n\n    Returns:\n        Dictionary mapping each g to its coset gN (represented as sorted list)\n    \"\"\"\n    pass",
    "solution": "def quotient_map(g_elements, normal_subgroup, operation_table):\n    \"\"\"\n    Construct quotient homomorphism G → G/N.\n\n    Args:\n        g_elements: List of elements in G\n        normal_subgroup: List of elements in normal subgroup N\n        operation_table: Operation table for G\n\n    Returns:\n        Dictionary mapping each g to its coset gN (represented as sorted list)\n    \"\"\"\n    quotient = {}\n\n    for g in g_elements:\n        g_idx = g_elements.index(g)\n\n        # Compute coset gN\n        coset = []\n        for n in normal_subgroup:\n            n_idx = g_elements.index(n)\n            product = operation_table[g_idx][n_idx]\n            coset.append(product)\n\n        quotient[g] = tuple(sorted(coset))\n\n    return quotient",
    "testCases": [
      {
        "input": "[0, 1, 2, 3], [0, 2], [[0, 1, 2, 3], [1, 2, 3, 0], [2, 3, 0, 1], [3, 0, 1, 2]]",
        "expectedOutput": "{0: (0, 2), 1: (1, 3), 2: (0, 2), 3: (1, 3)}",
        "isHidden": false,
        "description": "Quotient map Z4 → Z4/<2>"
      },
      {
        "input": "[0, 1, 2], [0], [[0, 1, 2], [1, 2, 0], [2, 0, 1]]",
        "expectedOutput": "{0: (0,), 1: (1,), 2: (2,)}",
        "isHidden": false,
        "description": "Quotient by trivial subgroup"
      },
      {
        "input": "[0, 1, 2], [0, 1, 2], [[0, 1, 2], [1, 2, 0], [2, 0, 1]]",
        "expectedOutput": "{0: (0, 1, 2), 1: (0, 1, 2), 2: (0, 1, 2)}",
        "isHidden": true,
        "description": "Quotient by whole group"
      }
    ],
    "hints": [
      "Map each g to its coset gN",
      "Represent cosets as tuples for hashability",
      "This is natural projection homomorphism"
    ],
    "language": "python"
  }
]
